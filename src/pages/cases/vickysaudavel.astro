---
export const prerender = true;
import WebLayout from '../../layouts/WebLayout.astro';
import { Image } from 'astro:assets';

// Case Study Components
import ScrollingPrototype from '../../components/content/ScrollingPrototype.astro';

// Hardcoded Assets (Using existing ones as placeholders for structure)
import headerDesktop from '@/assets/vicky/header_desktop.webp';
import headerMobile from '@/assets/vicky/header_mobile.webp';

const entry = {
  slug: "vickysaudavel",
  data: {
    title: "Vicky Saudável",
    description: "Rebranding e plataforma de alta performance para um método de emagrecimento focado no mindset.",
    category: "Saúde & Bem-estar",
    client: "Vicky Saudável",
    year: "2025",
    techStack: ["NEXT.JS", "REACT"],
    challenge: "O site anterior em WordPress sofria com baixa performance e uma comunicação visual/copy que não refletia a essência da Vicky. Leads eram perdidos pela demora no carregamento ou falta de conexão com o conteúdo.",
    outcome: "Entregamos clareza visual, precisão na copy e uma infraestrutura que garante que a única preocupação do lead seja o conteúdo e a transformação que o método da Vicky oferece."
  }
};

const title = `${entry.data.title} | Primitiva Cases`;
const description = entry.data.description;
---

<WebLayout title={title} description={description}>
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
    <main class="bg-black min-h-screen text-white selection:bg-zinc-800 selection:text-white font-display">
        
        {/* Absolute Back Button (Inside Header) */}
        <div class="absolute top-6 left-6 md:top-12 md:left-12 z-50 reveal-up pointer-events-auto">
            <a 
                href="/" 
                class="group flex items-center gap-3 bg-white/5 hover:bg-white/10 backdrop-blur-md border border-white/10 px-4 py-2 md:px-6 md:py-3 rounded-full transition-all duration-300 hover:border-white/30"
            >
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-4 h-4 md:w-5 md:h-5 text-white transition-transform duration-300 group-hover:-translate-x-1">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
                </svg>
                <span class="font-mono text-[10px] md:text-xs uppercase tracking-[0.2em] text-white">Voltar</span>
            </a>
        </div>

        {/* 1. Full-Screen Intro & Technical Grid */}
        <section class="h-screen flex flex-col relative bg-[#0f172a] overflow-hidden">
             
             {/* Background Image - Immersive & Tinted */}
             <div class="absolute inset-0 z-0">
                 <Image 
                    src={headerMobile}
                    alt="Vicky Saudável Hero Mobile"
                    class="w-full h-full object-cover opacity-60 mix-blend-overlay block md:hidden"
                 />
                 <Image 
                    src={headerDesktop}
                    alt="Vicky Saudável Hero Desktop"
                    class="w-full h-full object-cover opacity-60 mix-blend-overlay hidden md:block"
                 />
                 <div class="absolute inset-0 bg-[#d1135b]/10 mix-blend-multiply"></div>
                 <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"></div>
             </div>

             {/* Main Content Wrapper */}
             <div class="absolute inset-0 z-20 flex flex-col justify-end pointer-events-none">
                 
                 {/* Title Section */}
                 <div class="px-6 md:px-12 pb-12 w-full">
                     <div class="flex flex-col gap-6 reveal-up">
                         {/* Category Tag */}
                         <div class="flex items-center gap-3">
                             <div class="w-1.5 h-1.5 rounded-full bg-[#d1135b]"></div>
                             <span class="font-bold text-xs md:text-sm tracking-[0.2em] uppercase text-white/90">
                                 {entry.data.category}
                             </span>
                         </div>
                         
                         {/* Title Stacked */}
                         <h1 class="text-[clamp(4rem,15vw,12rem)] leading-[0.85] font-black tracking-tighter uppercase text-white drop-shadow-2xl">
                             VICKY<br/>SAUDÁVEL
                         </h1>
                     </div>
                 </div>

                 {/* Technical Grid (Fixed at Bottom) */}
                 <div class="w-full border-t border-white/20 bg-black/60 backdrop-blur-md pointer-events-auto">
                    <div class="grid grid-cols-2 md:grid-cols-4 divide-x divide-y md:divide-y-0 divide-white/10">
                        {/* Cell 1: Year */}
                        <div class="p-4 md:p-6 flex flex-col gap-1 reveal-up">
                            <span class="font-mono text-[9px] uppercase tracking-widest text-zinc-400">ANO</span>
                            <span class="font-mono text-xs text-white font-bold uppercase">{entry.data.year}</span>
                        </div>
                        {/* Cell 2: Stack */}
                        <div class="p-4 md:p-6 flex flex-col gap-1 reveal-up delay-100">
                             <span class="font-mono text-[9px] uppercase tracking-widest text-zinc-400">STACK</span>
                             <span class="font-mono text-xs text-white font-bold uppercase">{entry.data.techStack.join(' + ')}</span>
                        </div>
                        {/* Cell 3: Services (Deliverables) */}
                        <div class="p-4 md:p-6 flex flex-col gap-1 reveal-up delay-200 col-span-2">
                             <span class="font-mono text-[9px] uppercase tracking-widest text-zinc-400">SERVIÇOS</span>
                             <span class="font-mono text-xs text-white font-bold uppercase">COPY, UX/UI DESIGN, WEB (PÁGINA DE VENDAS)</span>
                        </div>
                    </div>
                 </div>

             </div>
        </section>

        {/* 2. THE CONCEPT: A New Relationship with Health */}
        <section class="border-b border-zinc-900 bg-zinc-950">
             <div class="grid grid-cols-1 md:grid-cols-2">
                 {/* Desktop Image */}
                 <div class="hidden md:block relative aspect-[3/4] md:aspect-auto md:h-full overflow-hidden border-r border-zinc-900 reveal-img">
                     <Image 
                        src={headerMobile} 
                        alt="Vicky Saudável Concept"
                        width={1200}
                        height={1600}
                        class="w-full h-full object-cover"
                     />
                 </div>
                 
                 {/* Text Content */}
                 <div class="p-8 md:p-24 flex flex-col justify-center reveal-up delay-100">
                     <span class="font-mono text-xs text-zinc-500 uppercase tracking-widest mb-8">01 — O CONCEITO</span>
                     <h2 class="text-4xl md:text-6xl font-display font-bold text-white mb-8 leading-[1.1]">
                        A comida <br>como aliada
                     </h2>
                     <p class="font-serif text-zinc-400 leading-relaxed text-xl max-w-lg">
                        Refizemos toda a copy e a identidade visual da página de vendas, buscando transmitir com mais sinceridade quem é realmente a Vicky e o que é o método que ela vende.
                        <br/><br/>
                        A premissa é ajudar as pessoas a terem uma melhor relação consigo mesmas, fazendo da comida saudável e do exercício físico um aliado, e não um inimigo.
                     </p>
                 </div>
             </div>
        </section>

        {/* Mobile-only Image position between Sections 01 and 02 */}
        <div class="block md:hidden w-full aspect-[4/5] overflow-hidden bg-zinc-900 reveal-img border-b border-zinc-900">
             <Image 
                src={headerDesktop} 
                alt="Vicky Saudável - Divisor Mobile 1"
                width={1200}
                height={1600}
                class="w-full h-full object-cover"
             />
        </div>

        {/* 4. DIGITAL CHALLENGE */}
        <section class="border-b border-zinc-900 bg-zinc-950/50">
            <div class="grid grid-cols-1 md:grid-cols-12 min-h-[400px]">
                {/* Sidebar Label */}
                <div class="md:col-span-4 p-8 md:p-24 border-r border-zinc-900 bg-zinc-900/30">
                    <span class="font-mono text-xs text-zinc-500 uppercase tracking-widest sticky top-32 block reveal-up">
                        02 — O DESAFIO
                    </span>
                </div>
                
                {/* Content */}
                <div class="md:col-span-8 p-8 md:p-24 flex items-center reveal-up delay-100">
                     <p class="text-2xl md:text-4xl leading-relaxed font-serif text-white text-balance">
                        O site em WordPress tinha uma performance afetada, além de uma copy e visual que não conversavam com o posicionamento da Vicky. Leads abandonavam o site antes mesmo da primeira frase carregar.
                     </p>
                </div>
            </div>
        </section>

        {/* Mobile-only Image position between Sections 03 and 04 */}
        <div class="block md:hidden w-full aspect-[4/5] overflow-hidden bg-zinc-900 reveal-img border-b border-zinc-900">
             <Image 
                src="/assets-dev/vickysaudavel/deusa_suprema.webp" 
                alt="Vicky Saudável - Divisor Mobile 2"
                width={1200}
                height={1600}
                class="w-full h-full object-cover"
             />
        </div>

        {/* 4. TECNOLOGIA */}
        <section class="border-b-0 md:border-b border-zinc-900 bg-black">
            <div class="grid grid-cols-1 md:grid-cols-12 min-h-[300px]">
                <div class="md:col-span-4 p-8 md:p-24 border-r border-zinc-900 bg-zinc-900/10">
                    <span class="font-mono text-xs text-zinc-500 uppercase tracking-widest sticky top-32 block reveal-up">
                        03 — TECNOLOGIA
                    </span>
                </div>
                
                <div class="md:col-span-8 p-8 md:p-24 flex flex-col justify-center reveal-up delay-100">
                     <h3 class="text-3xl md:text-5xl font-display font-bold text-white mb-8 leading-tight">O foco em<br/> performance.</h3>
                     <p class="text-xl md:text-2xl leading-relaxed font-serif text-zinc-400 max-w-3xl">
                        Eliminamos a instabilidade do WordPress para entregar uma infraestrutura baseada em performance. Substituímos plugins pesados por código puro e infraestrutura Next.js, permitindo estabilidade absoluta e carregamento rápido. 
                        <br/><br/>
                        Para a Vicky, isso significa que a tecnologia trabalha em silêncio para que o foco do lead permaneça 100% no conteúdo e na oferta.
                     </p>
                </div>
            </div>
        </section>

        {/* 05. SOLUÇÕES & SHOWCASE */}
        <section class="border-b border-zinc-900 bg-black text-white overflow-hidden">
            <div class="grid grid-cols-1 md:grid-cols-2">
                {/* Solutions Side */}
                <div class="p-8 pt-0 md:p-24 border-b md:border-b-0 md:border-r border-zinc-900 flex flex-col justify-center">
                    <span class="font-mono text-xs text-zinc-500 uppercase tracking-widest hidden md:block mb-16 reveal-up">
                        3.1 — SOLUÇÕES TÉCNICAS
                    </span>

                    <ul class="flex flex-col gap-10 list-none reveal-up delay-100">
                        <li class="border-t border-zinc-800 pt-8 md:border-none md:pt-0">
                            <div class="flex items-center gap-4 mb-3">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="w-5 h-5 text-[#d1135b] shrink-0">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" />
                                </svg>
                                <strong class="text-white text-lg font-mono uppercase">Navegação Invisível</strong>
                            </div>
                            <p class="text-zinc-500 text-base leading-relaxed">Experiência ultra-fluida onde a tecnologia não compete pela atenção do lead.</p>
                        </li>
                        <li class="border-t border-zinc-800 pt-8">
                            <div class="flex items-center gap-4 mb-3">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="w-5 h-5 text-[#d1135b] shrink-0">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                                </svg>
                                <strong class="text-white text-lg font-mono uppercase">Storytelling</strong>
                            </div>
                            <p class="text-zinc-500 text-base leading-relaxed">Narrativa construída para elevar o valor percebido e a autoridade da Vicky.</p>
                        </li>
                        <li class="border-t border-zinc-800 pt-8">
                            <div class="flex items-center gap-4 mb-3">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="w-5 h-5 text-[#d1135b] shrink-0">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
                                </svg>
                                <strong class="text-white text-lg font-mono uppercase">UX Emocional</strong>
                            </div>
                            <p class="text-zinc-500 text-base leading-relaxed">Layout que guia e acolhe o lead através de uma experiência imersiva.</p>
                        </li>
                        <li class="border-t border-zinc-800 pt-8">
                            <div class="flex items-center gap-4 mb-3">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="w-5 h-5 text-[#d1135b] shrink-0">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z" />
                                </svg>
                                <strong class="text-white text-lg font-mono uppercase">Inteligência de Dados</strong>
                            </div>
                            <p class="text-zinc-500 text-base leading-relaxed">Infraestrutura avançada de CAPI e Pixel para precisão de escala e redução do CPA.</p>
                        </li>
                    </ul>
                </div>

                {/* Showcase Side */}
                <div class="relative bg-zinc-950 min-h-[500px] md:min-h-0">
                     <div class="flex items-center justify-center w-full h-full md:sticky md:top-0">
                          <dotlottie-player
                            src="/assets-dev/vickysaudavel/showreel_vicky.lottie"
                            background="transparent"
                            speed="1"
                            loop
                            autoplay
                            class="w-full h-full object-cover"
                         ></dotlottie-player>
                     </div>
                </div>
            </div>
        </section>

        {/* Outcome Section */}
        {entry.data.outcome && (
            <section id="next-section" class="border-b border-zinc-900 bg-zinc-950/30">
                <div class="grid grid-cols-1 md:grid-cols-12 min-h-[400px]">
                    <div class="md:col-span-4 p-8 md:p-24 border-r border-zinc-900">
                        <span class="font-mono text-xs text-zinc-500 uppercase tracking-widest sticky top-32 block reveal-up">
                            04 — RESULTADOS
                        </span>
                    </div>
                    <div class="md:col-span-8 p-8 md:p-24 flex items-center reveal-up delay-100">
                        <p class="text-lg md:text-4xl font-mono leading-relaxed text-white">
                            "{entry.data.outcome}"
                        </p>
                    </div>
                </div>
            </section>
        )}

        {/* Next Level CTA Footer */}
        <section class="relative w-full h-[60vh] md:h-[80vh] overflow-hidden group border-t border-zinc-900 bg-black">
             <a href="/briefing" class="absolute inset-0 z-20"></a>
             
             <div class="absolute inset-0 z-0 text-white/5 pointer-events-none flex items-center justify-center overflow-hidden">
                <span class="text-[30vw] font-black uppercase tracking-tighter opacity-10 blur-sm">PRIMITIVA</span>
             </div>

             <div class="absolute inset-0 z-0">
                 {/* Background Accent */}
                 <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-[#d1135b]/20 via-transparent to-transparent opacity-50 group-hover:opacity-80 transition-opacity duration-700"></div>
                 <div class="absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-colors duration-700"></div>
             </div>
             
             <div class="absolute inset-0 flex flex-col items-start justify-center z-10 p-8 md:p-12 lg:p-24 pointer-events-none">
                 <span class="font-mono text-[10px] md:text-xs uppercase tracking-[0.5em] text-zinc-500 mb-8 transition-colors bg-white/5 px-4 py-2 border border-white/10 rounded-full group-hover:text-[#d1135b] group-hover:border-[#d1135b]/30">
                    PRÓXIMO RESULTADO
                 </span>
                 <h2 class="font-display font-black text-[20vw] md:text-[15vw] text-white uppercase tracking-tighter leading-[0.8] mb-12 transition-transform duration-700 group-hover:scale-[1.02]">
                      O SEU.
                 </h2>
                 <div class="flex items-center gap-6 group-hover:translate-x-4 transition-transform duration-500">
                    <span class="bg-white text-black px-8 py-4 md:px-12 md:py-6 text-lg md:text-2xl font-bold uppercase tracking-tighter">
                        [AGENDAR ANÁLISE DE PROJETO]
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8 text-white hidden md:block">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                    </svg>
                 </div>
             </div>
        </section>

    </main>
</WebLayout>

<script>
    // Animation Observer
    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('active');
            }
        });
    }, observerOptions);

    document.addEventListener('astro:page-load', () => {
        const elements = document.querySelectorAll('.reveal-up, .reveal-text, .reveal-img, .line-grow');
        elements.forEach(el => observer.observe(el));

        // Robust Infinite Loop for Video
        const video = document.getElementById('screens-video') as HTMLVideoElement;
        if (video) {
            video.addEventListener('ended', () => {
                video.currentTime = 0;
                video.play();
            });
        }
    });
</script>
