---
import { Image } from 'astro:assets';

interface Detail {
  image: ImageMetadata;
  label: string;
  description: string;
}

interface Props {
  mainImage: ImageMetadata;
  details: Detail[];
  title?: string;
}

const { mainImage, details, title = "COMPONENT_ZOOM_ANALYSIS" } = Astro.props;
---

<div class="my-24 w-full">
    {/* Header */}
    <div class="flex items-center justify-between mb-8 pb-4 border-b border-zinc-900 reveal-up">
        <span class="font-mono text-[10px] text-zinc-500 tracking-widest uppercase">{title}</span>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
        {/* Main View */}
        <div class="relative w-full aspect-square md:aspect-[4/3] bg-zinc-900 overflow-hidden border border-zinc-800 reveal-up">
             <Image 
                src={mainImage} 
                alt="Main Component View"
                class="w-full h-full object-cover opacity-80 hover:opacity-100 transition-opacity duration-500"
             />
             <div class="absolute bottom-4 right-4 font-mono text-[9px] text-white bg-black px-2 py-1">
                 MAIN_VIEWPORT
             </div>
        </div>

        {/* Details List */}
        <div class="flex flex-col gap-8 justify-center reveal-up delay-100">
             {details.map((detail, index) => (
                 <div class="flex gap-6 group">
                     {/* Thumbnail */}
                     <div class="w-24 h-24 shrink-0 border border-zinc-800 bg-zinc-900 overflow-hidden relative">
                         <Image 
                            src={detail.image} 
                            alt={detail.label}
                            class="w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-all duration-300 group-hover:scale-110"
                         />
                         <div class="absolute inset-0 bg-indigo-500/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                     </div>
                     
                     {/* Text Info */}
                     <div class="flex flex-col justify-center">
                         <span class="font-mono text-[9px] text-indigo-400 mb-2 block tracking-wider">
                             0{index + 1} // {detail.label}
                         </span>
                         <p class="font-sans text-sm text-zinc-400 leading-relaxed max-w-xs group-hover:text-zinc-200 transition-colors">
                             {detail.description}
                         </p>
                     </div>
                 </div>
             ))}
        </div>
    </div>
</div>
